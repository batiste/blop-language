/* Tests that inline comments are allowed in more positions
  - after opening brace of a type definition
  - after opening brace of a function definition
  - after opening brace of a fat-arrow function body
  - after a function call
  - after property access
  - after return statement, spanning multiple lines
*/

// Comment after opening brace of a type definition
type Route = { // opening brace comment
  path: string,
  name: string,
  params?: string[]
} // closing brace comment

// Comment after opening brace of a function definition
def makeRoute(path: string,
name: string): Route { // opening brace comment
  return { path, name } // closing brace comment
} // closing brace comment

test('inline comments in type definition and function body', () => { // Comment after function call
  r = makeRoute('/home', 'home') // comment after function call
  expect(r.path).toBe('/home') // comment after property access
  expect(r.name).toBe('home') // comment after property access
}) // comment after closing brace of test function

// Comment after opening brace of a fat-arrow function body
add = (a: number, b: number) => { // opening brace comment
  return a + b /* comment after return statement
    spanning multiple lines
  */
} // closing brace comment

class DogClass { // comment after opening brace of class definition
  def method() { // comment after opening brace of method definition
    return 42 // comment after return statement
  } // comment after closing brace of method definition
} // asdf

test('inline comment after fat-arrow function body opening brace', () => {
  expect(add(2, 3)).toBe(5)
})
