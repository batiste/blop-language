import { DogGame } from './DogBreedGame.blop'
import { getNewDog } from './services.blop'


def DogPage(ctx: Component): VNode {
  { attributes } = ctx
  { state } = attributes

  ctx.mount(async () => {
    // Using optional chaining to safely check nested property
    if (state.dogPage.choice.breed == '') {
      await getNewDog(state)
    }
  })

  <DogGame page=state.dogPage state=state loading=state.loading>
    = 'Dog breed game'
  </DogGame>
}
